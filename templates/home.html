<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
   
    <style>html{-webkit-tap-highlight-color:transparent;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}a,body{color:#f1f1f1}body{background:#111;font-family:Roboto,Arial,sans-serif;font-size:14px;min-width:320px;position:relative}body,button,form,h1,input,textarea{margin:0;padding:0}.footer a:hover,a{-webkit-text-decoration:none;text-decoration:none}.autoComplete_wrapper>ul,.header{left:0;right:0}.header{background:#111;overflow:visible;position:fixed;top:0;z-index:17}.logo a{color:#fff;display:block;text-transform:uppercase}.logo a:first-letter{color:red!important;font-weight:700}.s_menu{background:#242424;border-radius:10px;box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.4);display:none;padding:5px 0;position:absolute;right:0;top:45px}.s_opened{overflow-y:hidden}.s_opened .search,.sm_opened .s_menu{display:block!important}.sm_item{display:block;padding:5px 15px}.sm_item span,.sm_opened .settings{color:red}.more_thumbs .icon-th-large{display:initial}.more_thumbs .icon-th{display:none}.m_thumbs span:before{content:"more"}.more_thumbs .m_thumbs span:before{content:"less"}.h_btn{font-size:20px;line-height:45px;padding:0 11px}.search{box-sizing:border-box;display:none;max-width:600px;position:absolute;width:100%;z-index:1}.s_form{margin:0;position:relative}.s_btn,.s_text{color:inherit;font-size:16px;outline:0}.s_text{background:#111;border:1px solid #303030;border-radius:17px;box-shadow:none;box-sizing:border-box;line-height:16px;padding:6px 13% 6px 12px;width:100%}.lazyload,.lazyloading{opacity:0}.lazyloaded{opacity:1;transition:opacity .2s}.s_btn{background-color:#242424;border:0;border-radius:0 17px 17px 0;cursor:pointer;height:100%;min-width:40px;position:absolute;right:0;top:0;width:12%}.s_btn:hover{color:#fff}.menu{display:flex;overflow:hidden}.search_btn{font-size:18px}.container{margin:0 auto;max-width:1750px;padding:0 15px;position:relative}.main{padding-top:45px}.c_title{font-size:16px;font-weight:700;padding:20px 2px}.autoComplete_wrapper>ul>li,.autoComplete_wrapper>ul>p{font-size:14px;overflow:hidden;padding:8px 12px;text-align:left;text-overflow:ellipsis;white-space:nowrap}.autoComplete_wrapper>ul>li:hover{cursor:pointer}.autoComplete_wrapper>ul{background-color:#242424;border-radius:12px;box-shadow:0 0 3px 0 #242424;margin:3px 0 0;max-height:226px;outline:0;overflow-y:auto;padding:3px 0;position:absolute;top:100%;z-index:1000}.autoComplete_wrapper>ul>p{font-size:18px!important;margin-bottom:0;margin-top:0}.autoComplete_wrapper>ul>li mark,.autoComplete_wrapper>ul>p mark{background-color:initial;color:#fff;font-weight:700}.autoComplete_wrapper>ul>li:hover,.autoComplete_wrapper>ul>li[aria-selected=true]{background-color:rgba(52,52,52,.5)}.sm_item span{font-weight:700}.footer{color:#888;line-height:20px;padding:20px 0;text-align:center}.f_menu{margin-bottom:5px}.footer a{color:inherit;-webkit-text-decoration:underline;text-decoration:underline}.footer .icon-heart,.love a{color:#de2600;font-weight:700;-webkit-text-decoration:none;text-decoration:none;text-transform:uppercase}.navbar{align-items:center;display:flex;flex-direction:row;height:45px;justify-content:space-between;position:relative}.s_layout{background:rgba(0,0,0,.4);bottom:0;cursor:pointer;display:block;left:0;position:absolute;right:0;top:45px;z-index:16}.icon-th-large{display:none}.sm_item .icon{fill:red!important}.icon{height:1em;position:relative;top:.125em;width:1em;fill:currentColor}.c_title .icon{fill:red!important}@media (min-width:568px){.search_btn{display:none!important}.search{display:block;padding:0 25px;position:static}}.main,body,html{height:100%}.main{align-items:center;display:flex;justify-content:center;min-height:300px;padding:0;position:relative}._search{max-width:800px;opacity:.9;width:80%;z-index:3}._search .s_btn,._search .s_text{font-size:18px;line-height:18px}._search .s_text{border-radius:22px;border-width:3px;padding:8px 13% 8px 15px}._search .s_btn{border-radius:0 22px 22px 0;border-width:3px;min-width:50px}._search .autoComplete_wrapper>ul>li,._search .autoComplete_wrapper>ul>p{font-size:16px;padding:8px 18px}.footer{bottom:0;margin-bottom:15px;padding:0;position:absolute;z-index:2}canvas{display:block;}#particles-js{background-position:50% 50%;background-repeat:no-repeat;background-size:cover;height:100%;position:absolute;top:0;width:100%}</style>



    <title>ExcessA || Sentience</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        
</head>
<body>

    <div id="particles-js"></div>
    <script src="static/js/particles.min.js" type="30985398653bd432b3bc9862-text/javascript"></script>
    <script type="30985398653bd432b3bc9862-text/javascript">particlesJS("particles-js",{particles:{number:{value:100,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0});</script>
    <script async="" src="static/js/main.min.3ef41b646ef0.js" type="30985398653bd432b3bc9862-text/javascript"></script>
    <script async="" src="static/js/autocomplete.min.3a8b5e98d8b6.js" type="30985398653bd432b3bc9862-text/javascript"></script>
    <script type="30985398653bd432b3bc9862-text/javascript">
        (function(m,e,t,r,i,k,a){
            m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
        })
        (window, document, "script", "https://cdn.jsdelivr.net/npm/yandex-metrica-watch/tag.js", "ym");
        ym(95004659, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true });
    </script> 
    <noscript>
        <div>
            <img src="https://mc.yandex.ru/watch/95004659" style="position:absolute; left:-9999px;" alt="" />
        </div>
    </noscript>
    <script async="" src="//www.googletagmanager.com/gtag/js?id=G-Z51Z1JX21F" type="30985398653bd432b3bc9862-text/javascript"></script>
    <script type="30985398653bd432b3bc9862-text/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag("js", new Date());
        gtag("config", "G-Z51Z1JX21F");
    </script>
    <script src="static/js/rocket-loader.min.js" data-cf-settings="30985398653bd432b3bc9862-|49" defer=""></script>
    <script>
        (function(){
            if (!document.body) return;
            var js = "window['__CF$cv$params']={r:'88e0d91a7ea7b7f8',t:'MTcxNzQyOTkyMi45NzQwMDA='};_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js',document.getElementsByTagName('head')[0].appendChild(_cpo);";
            var _0xh = document.createElement('iframe');
            _0xh.height = 1;
            _0xh.width = 1;
            _0xh.style.position = 'absolute';
            _0xh.style.top = 0;
            _0xh.style.left = 0;
            _0xh.style.border = 'none';
            _0xh.style.visibility = 'hidden';
            document.body.appendChild(_0xh);
            function handler() {
                var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;
                if (_0xi) {
                    var _0xj = _0xi.createElement('script');
                    _0xj.innerHTML = js;
                    _0xi.getElementsByTagName('head')[0].appendChild(_0xj);
                }
            }
            if (document.readyState !== 'loading') {
                handler();
            } else if (window.addEventListener) {
                document.addEventListener('DOMContentLoaded', handler);
            } else {
                var prev = document.onreadystatechange || function () {};
                document.onreadystatechange = function (e) {
                    prev(e);
                    if (document.readyState !== 'loading') {
                        document.onreadystatechange = prev;
                        handler();
                    }
                };
            }
        })();
    </script>
    <iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;"></iframe>

    
    <h1 data-value="ExcessA: SENTIMENT ANALYSIS">ExcessA: SENTIMENT ANALYSIS</h1>
    <script>
        const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    
            let interval = null;
            
            document.querySelector("h1").onmouseover = event => {  
              let iteration = 0;
              
              clearInterval(interval);
              
              interval = setInterval(() => {
                event.target.innerText = event.target.innerText
                  .split("")
                  .map((letter, index) => {
                    if(index < iteration) {
                      return event.target.dataset.value[index];
                    }
                  
                    return letters[Math.floor(Math.random() * 26)]
                  })
                  .join("");
                
                if(iteration >= event.target.dataset.value.length){ 
                  clearInterval(interval);
                }
                
                iteration += 1 / 3;
              }, 30);
            }
            
    
    </script>
    <br>
    <label>An implementation of the SVM</label>
    <form id="analyzeForm" action="{{ url_for('predict') }}" method="post">
        <br><br><br>
        <textarea id="text" name="text" placeholder="Enter your text here..." rows="3" required>{{ text or '' }}</textarea>
        <input type="hidden" id="hiddenText" name="hiddenText" value="{{ text or '' }}">
        <br><br>
        <div class="button-container">
            <button type="submit">Analyze</button>
            <button type="button" onclick="resetPage()">Reset</button>
        </div>
        <br><br>
    </form>
    {% if text %}
        <h2>Input Text: "{{ text }}"</h2>
        <br><br>
        <h2>Overall Analyzed Sentiment: {{ sentiment }}</h2>
        <br><br>
        <h3>Sentence-wise Analysis:</h3>
        <br>
        <ul>
            {% for sentence, sentiment in sentence_sentiments %}
                <li>{{ sentence }} - <strong>{{ sentiment }}</strong></li>
            {% endfor %}
        </ul>
        <br>
        <div class="button-container">
            <button type="button" onclick="compareWithTextBlob()">Compare with TextBlob</button>
        </div>
        <br><br>
    {% endif %}

    <script>
        function resetPage() {
            document.getElementById("text").value = "";
            document.querySelector("h2:first-of-type").style.display = "none";
            document.querySelector("h2:last-of-type").style.display = "none";
            document.querySelector("h3").style.display = "none";
            document.querySelector("ul").style.display = "none";
        }
        
        function compareWithTextBlob() {
            console.log('Compare with TextBlob button clicked'); // Debugging line
            const text = document.getElementById("hiddenText").value || document.getElementById("text").value;
            if (text) {
                console.log('Sending fetch request with text:', text); // Debugging line
                fetch('/compare', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ text }),
                })
                .then(response => {
                    console.log('Fetch request completed'); // Debugging line
                    if (!response.ok) {
                        console.error('Network response was not ok'); // Debugging line
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Received response data:', data); // Debugging line
                    document.getElementById("textblob-analysis").innerHTML = data.textblob_analysis;
                    document.getElementById("model-accuracy").innerHTML = `Sentiment Score: ${data.accuracy}%`;
                })
                .catch(error => {
                    console.error('There has been a problem with your fetch operation:', error); // Debugging line
                });
            } else {
                console.log('No text provided'); // Debugging line
            }
        }
    </script>

    <div id="textblob-analysis"></div><br><br>
    <h2><div id="model-accuracy"></div><br><br></h2>
</body>
</html>
